
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Bottle 总结 | RoseOu&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="Rose Ou">
    
    <meta name="description" content="简介
“Bottle是一个快速，简单，轻量级的Python WSGI Web框架。它小巧但高效，整个框架只有一个文件，却自带了路径映射（route）、模板（template）、简单的数据库访问（post，get等）等web框架组件。它只依赖Python标准库。”


URL映射（Routing）：将">
    
    
    
    
    <link rel="alternate" href="/atom.xml" title="RoseOu&#39;s blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="RoseOu&#39;s blog" title="RoseOu&#39;s blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="RoseOu&#39;s blog">RoseOu&#39;s blog</a></h1>
				<h2 class="blog-motto">Work hard!</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/27/bottle/" title="Bottle 总结" itemprop="url">Bottle 总结</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://yoursite.com" title="Rose Ou">Rose Ou</a>
    </p>
  <p class="article-time">
    <time datetime="2016-03-27T05:51:14.000Z" itemprop="datePublished">2016-03-27</time>
    更新日期:<time datetime="2016-04-27T13:24:55.000Z" itemprop="dateModified">2016-04-27</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于安装"><span class="toc-number">2.</span> <span class="toc-text">关于安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目构建"><span class="toc-number">3.</span> <span class="toc-text">项目构建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#视图函数和路由"><span class="toc-number">4.</span> <span class="toc-text">视图函数和路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#动态路由："><span class="toc-number">4.1.</span> <span class="toc-text">动态路由：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端模板"><span class="toc-number">5.</span> <span class="toc-text">前端模板</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SimpleTemplate的语法"><span class="toc-number">5.0.1.</span> <span class="toc-text">SimpleTemplate的语法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库"><span class="toc-number">6.</span> <span class="toc-text">数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#API编写与参考"><span class="toc-number">7.</span> <span class="toc-text">API编写与参考</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目部署"><span class="toc-number">8.</span> <span class="toc-text">项目部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他特性（待加入）"><span class="toc-number">9.</span> <span class="toc-text">其他特性（待加入）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Session"><span class="toc-number">9.1.</span> <span class="toc-text">Session</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一些推荐的可用的插件"><span class="toc-number">9.2.</span> <span class="toc-text">一些推荐的可用的插件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bottle学习资源"><span class="toc-number">10.</span> <span class="toc-text">Bottle学习资源</span></a></li></ol>
		</div>
		
		<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote>
<p>“Bottle是一个快速，简单，轻量级的Python WSGI Web框架。它小巧但高效，整个框架只有一个文件，却自带了路径映射（route）、模板（template）、简单的数据库访问（post，get等）等web框架组件。它只依赖Python标准库。”</p>
</blockquote>
<ul>
<li>URL映射（Routing）：将URL请求映射到Python函数。</li>
<li>模板（Templates）：内置了一个简单快速的模板引擎,并支持其他模板引擎，如Mako,Jinja2，cheetah等</li>
<li>实用工具（Utilities）:内置了很多工具来提供表单数据的访问,文件上传,Cookies处理,HTTP头信息处理和访问其他HTTP相关信息的功能.）</li>
<li>服务器（Server）：Bottle内置了一个用于开发环境的Web服务器，在生产环境下还支持paste,gae,Google App Engine,cherrypy等符合WSGI标准的HTTP服务器。</li>
</ul>
<blockquote>
<p>成熟的web框架应该有：基本HTTP请求处理、GET或POST数据的接受、模板、数据库、session等功能。</p>
</blockquote>
<p>可是bottle并没有提供配置文件集成，数据库管理，可扩展的中间件等特性，所以它并不是开发复杂项目的第一选择。对于大型的Web程序，Bottle的功能略显不足，程序员需要手动管理模块、数据库、配置等等。</p>
<p>而如果你只是想快速创建一个Restful API接口，或者只想用网络开发框架的做一个简单的应用，Bottle可以轻松地满足你的要求。它具备了你将需要的所有功能：路由、模板、访问请求与响应数据、支持多种网络服务器以及WebSockets等高级功能。</p>
<h2 id="关于安装"><a href="#关于安装" class="headerlink" title="关于安装"></a>关于安装</h2><p>前面说到它小巧，它的小巧从安装就能看出来。（在虚拟环境下）</p>
<p>首先你可以选择安装它：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>pip install bottle==<span class="number">0</span>.<span class="number">12.8</span></div><div class="line"><span class="variable">$ </span>pip freeze &gt; requirements.txt</div></pre></td></tr></table></figure>
<p>你也可以不安装它，直接下载bottle.py文件复制到自己的应用中就可以使用了。</p>
<pre><code>$ wget http://bottlepy.org/bottle.py
</code></pre><h2 id="项目构建"><a href="#项目构建" class="headerlink" title="项目构建"></a>项目构建</h2><p>好像没有构建项目的必要，但如果你非要构建的话，这里有一个第三方开发的插件bottle-boilerplate可用来自动构建项目（这个插件star也不多..）。</p>
<p>首先来安装它：</p>
<pre><code>$ pip install bottle-boilerplate
</code></pre><p>然后就可以构建项目了：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>bottle startproject YOUR_PROJECT_NAME</div><div class="line"><span class="variable">$ </span>cd YOUR_PROJECT_NAME</div><div class="line"><span class="variable">$ </span>pip install -r requirements.txt</div></pre></td></tr></table></figure>
<p>然后就可以看到这个项目结构是这样的（这里我创建了bottle文件夹来放我的项目，我的项目名为bottleapp）：</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="string">|- bottle</span></div><div class="line">	<span class="string">|- bottleapp</span></div><div class="line">		<span class="string">|- bottleapp</span></div><div class="line">			<span class="string">|- controllers</span></div><div class="line">				<span class="string">|- home.py</span></div><div class="line">				<span class="string">|- __init__.py</span></div><div class="line">			<span class="string">|- models</span></div><div class="line">				<span class="string">|- __iniy__.py</span></div><div class="line">			<span class="string">|- views</span></div><div class="line">				<span class="string">|- index.html</span></div><div class="line">			<span class="string">|- __init__.py</span></div><div class="line">			<span class="string">|- routes.py</span></div><div class="line">			<span class="string">|- settings.py</span></div><div class="line">		<span class="string">|- tests</span></div><div class="line">			<span class="string">|- __init__.py</span></div><div class="line">		<span class="string">|- manage.py</span></div><div class="line">		<span class="string">|- README.rst</span></div><div class="line">		<span class="string">|- requirements.txt</span></div><div class="line">	<span class="string">|- venv</span></div><div class="line">	<span class="string">|- requirements.txt</span></div></pre></td></tr></table></figure>
<p>你已经可以运行它试一下,但这时候只能看到一个404的错误页面：</p>
<pre><code>$ python -m bottle bottleapp
</code></pre><p>讲真似乎真的没有构建项目的必要..</p>
<h2 id="视图函数和路由"><a href="#视图函数和路由" class="headerlink" title="视图函数和路由"></a>视图函数和路由</h2><p>Bottle内置了一个强大的route引擎，可以给每个浏览器请求找到正确的回调函数。</p>
<p>先来看一个小小的Hello World:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> route,run</div><div class="line"><span class="meta">@route('/hello')     </span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">()</span>:</span></div><div class="line">	<span class="keyword">return</span> <span class="string">"Hello World!"</span></div><div class="line">run(host=<span class="string">'localhost'</span>, port=<span class="number">8080</span>,debug=<span class="keyword">True</span>)</div></pre></td></tr></table></figure>
<p>在浏览器请求一个URL时，框架自动调用与之相应的函数，将函数的返回值发送给浏览器。这里route()函数将“/hello”这个URL地址绑定到“hello（）”这个函数上，任何对“/hello”这个URL的请求都被递交到这个函数中。</p>
<p>run()启动了内置的开发服务器,把指定的域名和端口作为参数传入。它监听localhost的8080端口并响应请求.但它不能满足生产环境的需求。</p>
<p>Bottle的这种URL地址映射方法其实与flask差不多，也是使用了装饰器将函数和URL进行绑定的方法。</p>
<p>上面的route()函数将一个URL路径与一个回调函数关联起来,然后在默认应用中添加了一个URL映射(route).你也可以在你的应用中多添加几个路由器。因为一个回调函数可绑定多个route。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@route</span>(<span class="string">'/'</span>)</div><div class="line"><span class="variable">@route</span>(<span class="string">'/hello/&lt;name&gt;'</span>)</div><div class="line">def greet(name=<span class="string">'Stranger'</span>):</div><div class="line">	return <span class="string">'Hello %s!'</span> % name</div></pre></td></tr></table></figure>
<p>如果有一个URL没有被绑定到任何回调函数上，Bottle将返回“404 Page Not Found”的错误页面。</p>
<p>上面的栗子使用了模块层面的route()装饰器函数来定义route,这样,所有route都会添加到一个全局的”默认应用”,它是一个Bottle的实例，第一次调用route()时候会自动创建。</p>
<p>这使其他几个模块层面的修饰器函数都与这个”默认应用”有关.为了避免使用全局范围的”默认应用”,我们可以创建一个独立的应用对象.**</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> bottle import Bottle,<span class="keyword">run</span><span class="bash"></span></div><div class="line">app = Bottle()    <span class="comment">#创建了一个Bottle对象app，然后所有函数都会映射到app的URL地址上</span></div><div class="line">@app.route(<span class="string">'/hello'</span>)</div><div class="line">def hello():</div><div class="line">	return <span class="string">"Hello World!"</span></div><div class="line"><span class="keyword">run</span><span class="bash">(app, host=<span class="string">'localhost'</span>, port=8080)</span></div></pre></td></tr></table></figure>
<p>这样别人就可以安全地导入你的app，然后通过Bottle.mount()方法合并到他的应用中。</p>
<p><strong>调试模式：</strong></p>
<pre><code>bottle.debug(True)
</code></pre><p><strong>自动重载：</strong></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> bottle import <span class="built_in">run</span></div><div class="line"><span class="built_in">run</span>(reloader=True)</div></pre></td></tr></table></figure>
<h3 id="动态路由："><a href="#动态路由：" class="headerlink" title="动态路由："></a>动态路由：</h3><p>动态路由就是有通配符的路由,它能匹配多个URL地址.URL中的通配符会当作参数传给回调函数,直接在回调函数中使用.在同一个route里面，这个变量名需要是唯一的。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@route(<span class="string">'/hello/&lt;name&gt;'</span>)  <span class="comment">#旧语法中为:name</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(name = <span class="string">'World'</span>)</span></span>:  <span class="comment">#这里定义了一个默认参数</span></div><div class="line">	<span class="keyword">return</span> <span class="string">'Hello &#123;&#125;!'</span>.format(name)</div></pre></td></tr></table></figure>
<p><strong>过滤器：</strong></p>
<p>过滤器(Filter)可被用来定义特殊类型的通配符。在通配符传递给回调函数前,先自动转换通配符类型.包含过滤器的通配符定义一般像这样<name:filter>或<name:filter:config>.config部分可选,由被使用的过滤器决定。以下是几种过滤器:</name:filter:config></name:filter></p>
<blockquote>
<p>:int          匹配一个整形,自动将其转换为int类型.<br>:float        匹配一个浮点数，自动将其转换为float<br>:path         匹配所有字符，包含”/“<br>:re[:config]  允许在config中写一个正则表达式.</p>
</blockquote>
<p><strong> HTTP请求方法 </strong></p>
<p>在Bottle中，未指明请求访问的路由会默认使用GET方法.要处理如POST,PUT或者DELETE等等的其它请求，必须主动地在route()函数中添加它们，或者使用装饰器：@get(),@post()等等.</p>
<p>举一个用POST方法实现用户登录的栗子:</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> bottle import get, post, request</div><div class="line">@get(<span class="string">'/login'</span>)    #或@route(<span class="string">'/login'</span>, <span class="function"><span class="keyword">method</span> = '<span class="title">GET</span>')</span></div><div class="line"><span class="title">def</span> <span class="title">login_form</span><span class="params">()</span>:</div><div class="line">	return <span class="string">'''&lt;form method="POST" action="/login"&gt;</span></div><div class="line">				&lt;input name="name" type="text" /&gt;</div><div class="line">				&lt;input name="password" type="password" /&gt;</div><div class="line">				&lt;input type="submit" /&gt;</div><div class="line">			  &lt;/form&gt;'''</div><div class="line">			  </div><div class="line">@post(<span class="string">'/login'</span>)  #或@route(<span class="string">'/login'</span>, <span class="function"><span class="keyword">method</span> = '<span class="title">POST</span>')</span></div><div class="line"><span class="title">def</span> <span class="title">login_submit</span><span class="params">()</span>:</div><div class="line">	name = request.forms.get(<span class="string">'name'</span>)</div><div class="line">	password = request.forms.get(<span class="string">'password'</span>)</div><div class="line">	<span class="keyword">if</span> check_login(name, password):</div><div class="line">		return <span class="string">'&lt;p&gt;Your login was correct&lt;/p&gt;'</span></div><div class="line">	<span class="keyword">else</span>:</div><div class="line">		return <span class="string">'&lt;p&gt;Login failed&lt;/p&gt;'</span></div></pre></td></tr></table></figure>
<p>在这个栗子中，/login绑定了两个回调函数，一个回调函数响应GET请求，另一个响应POST请求。若浏览器用GET请求访问/login，则调用login_form()来返回登录界面，浏览器用POST方法提交表单后，调用login_submit()函数来检查用户有效性，并返回登录结果。</p>
<p><strong> 静态文件 </strong><br>Bottle内置的服务器不会自动处理像图片或CSS文件的静态文件请求。你需要给静态文件提供一个路由（告诉服务器哪些文件需要服务），一个回调函数（用来查找和控制静态文件的访问。）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> static_file</div><div class="line"><span class="meta">@route('/static/&lt;filename&gt;')</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">server_static</span><span class="params">(filename)</span>:</span></div><div class="line">	<span class="keyword">return</span> static_file(filename,root=<span class="string">'/path/to/your/static/files'</span>)</div></pre></td></tr></table></figure>
<p>static_file()函数用来返回静态文件请求，上面的示例中，我们只返回”/path/to/your/static/files”路径下的文件，如果我们想要响应“/path/to/your/static/files”目录的子目录下的文件请求，那么我们可以使用一个格式化的通配符：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@route(<span class="string">'/static/&lt;filepath:path&gt;'</span>)</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">server_static</span><span class="params">(filepath)</span></span>:</div><div class="line">       <span class="keyword">return</span> static_file(filepath, root=<span class="string">'/path/to/your/static/files'</span>)</div></pre></td></tr></table></figure>
<p>使用root=’./static/files’这样的相对路径时，注意当前工作目录（./）不一定是项目文件夹。</p>
<p><strong> 错误页面 </strong><br>如果任何请求的URL没有的到匹配的回调函数，Bottle会返回一个默认的错误页面，提供足够的debug信息。你也可以用error()设置自己的相关回调函数，自定义错误页面：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> error</div><div class="line"><span class="meta">@error(404)</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">error404</span><span class="params">(error)</span>:</span></div><div class="line">	<span class="keyword">return</span> <span class="string">'Nothing here, sorry!'</span></div></pre></td></tr></table></figure>
<p>这里传给error404函数的唯一参数是一个HTTPError对象的实例。除此，这个回调函数与我们用来响应普通请求的回调函数没有不同。你可以从request中读取数据，往response中写入数据和返回所有HTTPError支持的数据类型。<br>只有在你的应用返回或raise一个HTTPError异常的时候，处理Error的函数才会被调用。更改Request，status或返回HTTPResponse不会触发错误处理函数。</p>
<h2 id="前端模板"><a href="#前端模板" class="headerlink" title="前端模板"></a>前端模板</h2><p>Bottle内置了一个快速且强大的模板引擎，SimpleTemplateEngine(stpl)。你可以使用template（）函数或者view（）装饰器来渲染一个模板，（这两个函数默认调用的模板引擎就是SimpleTemplate）你只要提供模板的名字和传递给模板的变量，下面是一个简单的栗子：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@route</span>(<span class="string">'/hello'</span>)</div><div class="line"><span class="variable">@route</span>(<span class="string">'/hello/&lt;name&gt;'</span>):</div><div class="line">def hello(name=<span class="string">'World'</span>):</div><div class="line">	return template(<span class="string">'hello_template'</span>, name=name)</div></pre></td></tr></table></figure>
<p>这将加载hello_template.tpl模板文件，并提供name变量，并渲染它，再将结果返回给浏览器。默认情况，Bottle会在./views/查找模板文件。你可以在bottle.TEMPLATE_PATH这个列表中添加模板路径。</p>
<p>view()装饰器允许你在回调函数中返回一个字典，并将其传递给模板。来一个栗子：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@route</span>(<span class="string">'/hello'</span>)</div><div class="line"><span class="variable">@route</span>(<span class="string">'/hello/&lt;name&gt;'</span>)</div><div class="line"><span class="variable">@view</span>(<span class="string">'hello_template'</span>)</div><div class="line">def hello(name=<span class="string">'World'</span>):</div><div class="line">	return dict(name=name)</div></pre></td></tr></table></figure>
<h4 id="SimpleTemplate的语法"><a href="#SimpleTemplate的语法" class="headerlink" title="SimpleTemplate的语法"></a>SimpleTemplate的语法</h4><p>python对空白敏感的语法使它很难作为一个模板语言。SimpleTemplate移除了一些限制。SimpleTemplate模板会被编译为python字节码，且在每次通过SimpleTemplate.render()渲染时执行。<br>注意：编译模板和渲染模板是两件事。通常模板只会被编译一次，然后会被缓存起来，但是会根据不同的参数，被多次渲染。</p>
<p><strong>内嵌语句</strong><br>只要在括号中的python语句返回一个字符串或有一个字符串的表达形式，它就是一个有效的语句。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>template(<span class="string">'Hello &#123;&#123;name&#125;&#125;!'</span>, name=<span class="string">'World'</span>)</div><div class="line"><span class="string">u'Hello World!'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>template(<span class="string">'Hello &#123;&#123;name.title() if name else "stranger"&#125;&#125;!'</span>, name=<span class="keyword">None</span>)</div><div class="line"><span class="string">u'Hello stranger!'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>template(<span class="string">'Hello &#123;&#123;name.title() if name else "stranger"&#125;&#125;!'</span>, name=<span class="string">'mArC'</span>)</div><div class="line"><span class="string">u'Hello Marc!'</span></div></pre></td></tr></table></figure>
<p>括号中的python语句会在渲染的时候被执行，可访问传递给SimpleTemplate.render()方法的所有参数。默认情况下，它会自动转义HTML标签以防止XSS攻击。可在语句前加上“！”来关闭自动转义。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;template(<span class="string">'Hello &#123;&#123;name&#125;&#125;!'</span>, name=<span class="string">'&lt;b&gt;World&lt;/b&gt;'</span>)</div><div class="line"><span class="string">u'Hello &amp;lt;b&amp;gt;World&amp;lt;/b&amp;gt;!'</span></div><div class="line">&gt;&gt;&gt;template(<span class="string">'Hello &#123;&#123;!name&#125;&#125;!'</span>, name=<span class="string">'&lt;b&gt;World&lt;/b&gt;'</span>)</div><div class="line"><span class="string">u'Hello &lt;b&gt;World&lt;/b&gt;!'</span></div></pre></td></tr></table></figure>
<p><strong>嵌入python代码</strong></p>
<p>这个模板的语法类似于python的语法，它会确保语句块的正确缩进，所以你在写模板时不用担心缩进问题。</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="perl">%if name == <span class="string">'World'</span>:</span><span class="xml"></span></div><div class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span> Hello &#123;&#123;name&#125;&#125; <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span> This is a test.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="perl">%else:</span><span class="xml"></span></div><div class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello &#123;&#123;name.title()&#125;&#125;！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>How are you?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="perl">%end</span><span class="xml"></span></div></pre></td></tr></table></figure>
<p>一行以%开头，表明这一行是python代码。它和真正的python代码唯一的区别，在于你需要显式地在末尾添加%end语句，表明一个代码块结束。这样你就不必担心python代码中的缩进问题，SimpleTemplate模板引擎帮你处理了。不以%开头的行被当作普通文本来渲染。</p>
<p>只有在行首的%字符才有意义，可以使用%%来转义。</p>
<p>注意：模板在经过编译后会缓存在内存中，所以你在修改模板文件后，要调用bottle.TEMPLATES.clear()函数手工清除缓存，才能看到效果。而在debug模式下，缓存会被禁用，于是就无需手动清除缓存。</p>
<p><strong>防止换行</strong><br>在一行代码前面加上\来防止换行。</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>\\</span></div><div class="line"><span class="perl">%if True:</span><span class="xml"></span></div><div class="line">nobreak\\</div><div class="line"><span class="perl">%end</span><span class="xml"></span></div><div class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<p>该模板会输出：</p>
<pre><code>&lt;span&gt;nobreak&lt;/span&gt;
</code></pre><p><strong>模板继承</strong></p>
<ul>
<li>%include语句</li>
</ul>
<p>可使用%include sub——template[kwargs]语句来包含其他模板。sub_template参数是模板的文件名或路径。[kwargs]部分是以逗号分开的键值对，是传给其他模板的参数。</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="perl">%include header_template title=<span class="string">'Hello World!'</span></span><span class="xml"></span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="perl">%include footer_template</span><span class="xml"></span></div></pre></td></tr></table></figure>
<ul>
<li>%rebase语句</li>
</ul>
<p>%rebase base_template [kwargs]语句会渲染base_template这个模板，而不是原先的模板。然后base_template中使用一个空%include语句来包含原先的模板，并可访问所有通过kwargs传过来的参数。这样就可用模板来封装另一个模板，或是模拟引擎中的继承机制。**<br>假设现在有一个与内容有关的模板，想在它上面加一层普通的HTML层。为了避免include一堆模板，可以用一个基础模板。</p>
<p>名为layout.tpl的基础模板</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;&#123;title or 'No title'&#125;&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="perl">	%include</span><span class="xml"></span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>名为 content.tpl的主模板</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">This <span class="built_in">is</span> the page <span class="built_in">content</span>:&#123;&#123;<span class="built_in">content</span>&#125;&#125;</div><div class="line">%rebase layout <span class="built_in">title</span>='Content Title'</div></pre></td></tr></table></figure>
<p>然后来渲染content.tpl</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; print template(<span class="string">'content'</span>, content=<span class="string">'Hello World!'</span>)</div><div class="line"></div><div class="line">&lt;html&gt;</div><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></div><div class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Content Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">&lt;body&gt;</div><div class="line">	This is the page content:Hello World!</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></div><div class="line">&lt;<span class="regexp">/html&gt;</span></div></pre></td></tr></table></figure>
<p><strong>模板内置函数</strong><br>在模板中访问一个未定义的变量会导致NameError异常，并立即终止模板的渲染。在抛出异常前，你无法检查变量是否被定义。当你想让输入更灵活或想在不同情况下使用同一个模板时，就很烦人了。SimpleTemplate模板引擎内置了三个函数来解决这个问题。</p>
<blockquote>
<p>defined(name):如果变量已定义则返回True，反之返回False<br>get(name,default=None):返回该变量，或一个默认值<br>setdefault(name,default):如果该变量未定义，则定义它，赋一个默认值，返回该变量</p>
</blockquote>
<p>下面这个栗子使用了这些函数，实现了模板中的可选参数：</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="perl">% setdefault(<span class="string">'text'</span>,<span class="string">'No Text'</span>)</span><span class="xml"></span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;get('title','No Title')&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> &#123;&#123; text &#125;&#125; <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="perl">% <span class="keyword">if</span> <span class="keyword">defined</span>(<span class="string">'author'</span>):</span><span class="xml"></span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>By &#123;&#123; author &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="perl">% end</span><span class="xml"></span></div></pre></td></tr></table></figure>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p>Bottle没有orm，没有专门封装数据库操作，不能直接支持数据库，需要通过一些插件实现。</p>
<p>如果你确实想在你的应用里使用数据库，寻求ORM支持，你可以选择使用SQLAlchemy,PyMongo,MongoEngine, CouchDB等。</p>
<p>所以如果你需要开发基于数据库的网站，且数据库的结构不会经常变化，那最好使用大型Python Web框架。而如果你的网站使用的是关系数据库，就可以不使用大型框架，直接用bottle、flask这类框架结合关系数据库模块就行。</p>
<p><strong> Key/Value数据库 </strong><br>Bottle通过bottle.db模块变量提供一个key/value数据库.存储的对象类似dict字典,keys和values必须是字符串.不支持items()，values()这些方法.</p>
<p><strong>bottle-mysql</strong></p>
<pre><code>$ pip install bottle-mysql
</code></pre><p>“Bottle-MySQL is a plugin that integrates MySQL with your Bottle application. It automatically connects to a database at the beginning of a request, passes the database handle to the route callback and closes the connection afterwards.”<br>“Bottle-MySQL是一个能够将你的应用和MySQL整合起来的插件。它在请求开始的时自动地连接上数据库，通过数据库句柄到路由回调，最后关闭连接。”</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">import</span> bottle</div><div class="line"><span class="built_in">import</span> bottle_mysql</div><div class="line"></div><div class="line"><span class="attr">app</span> = bottle.Bottle()</div><div class="line"><span class="attr">plugin</span> = bottle_mysql.Plugin(<span class="attr">dbuser='user',</span> <span class="attr">dbpass='pass',</span> <span class="attr">dbname='db')</span></div><div class="line">app.install(plugin)</div></pre></td></tr></table></figure>
<p>你也可以直接用python的数据库模块MYSQLdb来连接MYSQL，直接import MYSQLdb就可以。</p>
<p><strong> Bottle-SQLite </strong></p>
<p>这个插件让在Bottle应用中使用sqlite数据库变得简单。你只要在route的回调函数里添加一个‘db’参数，就能使用数据库链接了。</p>
<pre><code>$ pip install bottle-sqlite
</code></pre><h2 id="API编写与参考"><a href="#API编写与参考" class="headerlink" title="API编写与参考"></a>API编写与参考</h2><p>也是跟flask差不多，不同的是它可以把HTTP请求方法作装饰器用.</p>
<p>一个简单的栗子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> request, response</div><div class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> post, get, put, delete</div><div class="line"></div><div class="line">_names = set()           <span class="comment"># the set of names</span></div><div class="line"></div><div class="line"><span class="meta">@post('/names')</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">creation_handler</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">'''Handles name creation'''</span></div><div class="line">	<span class="keyword">pass</span></div><div class="line"></div><div class="line"><span class="meta">@get('/names')</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">listing_handler</span><span class="params">()</span>:</span></div><div class="line">	<span class="string">'''Handles name listing'''</span></div><div class="line">	<span class="keyword">pass</span></div><div class="line"></div><div class="line"><span class="meta">@put('/names/&lt;name&gt;')</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_handler</span><span class="params">(name)</span>:</span></div><div class="line">	<span class="string">'''Handles name updates'''</span></div><div class="line">	<span class="keyword">pass</span></div><div class="line"></div><div class="line"><span class="meta">@delete('/names/&lt;name&gt;')</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_handler</span><span class="params">(name)</span>:</span></div><div class="line">	<span class="string">'''Handles name deletions'''</span></div><div class="line">	<span class="keyword">pass</span></div></pre></td></tr></table></figure>
<p>也可以单独创建一个API文档，将上面这段代码保存为names.py，然后再建立一个main.py文件。</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">import</span> bottle</div><div class="line">from api <span class="built_in">import</span> names</div><div class="line"></div><div class="line"><span class="attr">app</span> = <span class="attr">application</span> = bottle.default_app()</div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="attr">__name__</span> == '__main__':</div><div class="line">	bottle.run(<span class="attr">host</span> = '<span class="number">127.0</span>.<span class="number">0.1</span>', <span class="attr">port</span> = <span class="number">8000</span>)</div></pre></td></tr></table></figure>
<p><strong>参考</strong>：<br><a href="http://wenku.baidu.com/link?url=AXvHmcyWezZ7MK0RTN89X4QGP91IN-Nyl1cD1V94QeCdFu5k9AqzwjPzi_4CDSCY3arrp-RtYtSyH6FBOXYuvuPIrh6QQNan4F8-N2jCoAa" target="_blank" rel="external">API参考</a><br><a href="http://www.bottlepy.org/docs/dev/api.html" target="_blank" rel="external">API Reference</a></p>
<h2 id="项目部署"><a href="#项目部署" class="headerlink" title="项目部署"></a>项目部署</h2><p>Bottle默认运行在它内置的随python一起发布的WSGI reference Server服务器上。这个单线程的HTTP服务器在开发时很有用，但是性能较低.<br>最简单的增加性能的办法是安装一个多线程的服务器库，例如paste或者cherrypy ，并告诉 Bottle 使用它来替代单线程的服务器:</p>
<pre><code>bottle.run(server=&apos;paste&apos;)
</code></pre><p>默认地，Bottle会监听127.0.1的8080端口，如果想更改它，就更改run函数的参数。当Bottle运行在其他服务器上时，port和host参数依然适用。</p>
<pre><code>run(port=80,host=&apos;123.45.67.89&apos;)
</code></pre><p>因为这个服务器是单线程的，一次只能响应一个请求，可是Bottle已经可以工作在很多多线程的服务器上了，所以还是建议在大型项目上使用高性能服务器。</p>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Bottle v0<span class="meta">.12</span><span class="meta">.9</span> server starting <span class="meta">up</span> (using WSGIRefServer())...</div><div class="line">Listening on http://<span class="number">127.0</span><span class="meta">.0</span><span class="meta">.1</span>:<span class="number">8080</span>/</div><div class="line">Hit Ctrl-C to quit.</div></pre></td></tr></table></figure>
<h2 id="其他特性（待加入）"><a href="#其他特性（待加入）" class="headerlink" title="其他特性（待加入）"></a>其他特性（待加入）</h2><h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><p>Bottle自身没有提供Session(处理用户在多次请求之间需要存储的数据)的支持，但可以使用<a href="http://beaker.readthedocs.org/en/latest/" target="_blank" rel="external">beaker</a>中间件来实现。<br>Beaker是一个缓存和会话的库，与Web应用程序和独立的Python脚本及应用程序一起使用。它是WSGI的中间件，能够很简单地嵌入，与基于WSGI的Web应用程序一起使用，并且缓存修饰器对于任何基于Python的应用程序都是容易使用的。</p>
<pre><code>$ pip install beaker
</code></pre><p>栗子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> route, run ,redirect,request,default_app</div><div class="line"><span class="keyword">from</span> beaker.middleware <span class="keyword">import</span> SessionMiddleware</div><div class="line"><span class="comment">#设置session参数（Session数据存放在'/tmp/'目录里面，/tmp/有个机制，会自动清理30天后末使用过的文件，有点类型于回收站，所以你不需要担心session文件不断增多的问题。）</span></div><div class="line">session_opts = &#123;</div><div class="line">	<span class="string">'session.type'</span>:<span class="string">'file'</span>,                   <span class="comment"># 以文件的方式保存session</span></div><div class="line">	<span class="string">'session.cookei_expires'</span>:<span class="number">3600</span>,       <span class="comment"># session过期时间为3600秒</span></div><div class="line">	<span class="string">'session.data_dir'</span>:<span class="string">'/tmp/sessions'</span>,  <span class="comment"># session存放路径</span></div><div class="line">	<span class="string">'sessioni.auto'</span>:<span class="keyword">True</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">app = SessionMiddleware(bottle.app(), session_opts)</div><div class="line"></div><div class="line"><span class="meta">@bottle.route('/test')</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></div><div class="line">	s = bottle.request.environ.get(<span class="string">'beaker.session'</span>) <span class="comment">#获取session,则获取环境变量中的beaker.session对象，并赋值给s，然后我们就可以用字典的方式，往s里面添加一些我们要存进去的数据，如帐号名，帐号id，权限等等</span></div><div class="line">	s[<span class="string">'test'</span>] = s.get(<span class="string">'test'</span>, <span class="number">0</span>)+<span class="number">1</span>   <span class="comment">#从session中获取Key为test的值</span></div><div class="line">	s.save()</div><div class="line">	<span class="keyword">return</span> <span class="string">'Test counter: %d'</span> % s[<span class="string">'test'</span>]</div><div class="line">			</div><div class="line">bottle.run(app=app,host=<span class="string">'0.0.0.0'</span>, port=<span class="number">8080</span>,debug=<span class="keyword">True</span>)</div></pre></td></tr></table></figure>
<h3 id="一些推荐的可用的插件"><a href="#一些推荐的可用的插件" class="headerlink" title="一些推荐的可用的插件"></a>一些推荐的可用的插件</h3><blockquote>
<p>Bottle-Beaker:Beaker to session and caching library with WSGI Middleware<br>Bottle-Cork:Cork provides a simple set of methods to implement Authentication and Authorization in web applications based on Bottle.<br>Bottle-Extras:Meta package to install the bottle plugin collection.<br>Bottle-Flash:flash plugin for bottle<br>Bottle-Hotqueue:FIFO Queue for Bottle built upon redis<br>Macaron:Macaron is an object-relational mapper (ORM) for SQLite.<br>Bottle-Memcache:Memcache integration for Bottle.<br>Bottle-Mongo:MongoDB integration for Bottle<br>Bottle-Redis:Redis integration for Bottle.<br>Bottle-Renderer:Renderer plugin for bottle<br>Bottle-ServefilesA reusable app that serves static files for bottle apps<br>Bottle-Sqlalchemy:SQLAlchemy integration for Bottle.<br>Bottle-Sqlite:SQLite3 database integration for Bottle.<br>Bottle-Web2pydal:Web2py Dal integration for Bottle.<br>Bottle-Werkzeug:Integrates the werkzeug library (alternative request and response objects, advanced debugging middleware and more)</p>
</blockquote>
<h2 id="Bottle学习资源"><a href="#Bottle学习资源" class="headerlink" title="Bottle学习资源"></a>Bottle学习资源</h2><ul>
<li>PS：因为Bottle真的太小了，以至于网上关于它的资料也比较少，而且基本上都是差不多的，感觉官方文档也不是很全面，相关的书也没有，于是只能大量百度和google来搜集资料学习。</li>
</ul>
<p><a href="http://www.bottlepy.org/docs/dev/" target="_blank" rel="external">Bottle: Python Web Framework</a><br><a href="http://download.csdn.net/detail/cuihairu/8333909" target="_blank" rel="external">Bottle v0.11中文文档</a><br><a href="http://www.jb51.net/article/63736.htm" target="_blank" rel="external">简单介绍Python的轻便web框架Bottle</a><br><a href="https://www.linuxyw.com/category/bottle" target="_blank" rel="external">bottle框架基础教程</a><br><a href="http://www.maiziedu.com/course/python/494-6414/" target="_blank" rel="external">Bottle web 开发 （视频）</a><br><a href="http://ju.outofmemory.cn/entry/220152" target="_blank" rel="external">几个bottle插件</a><br><a href="https://pypi.python.org/pypi/bottle-mysql/0.1.4" target="_blank" rel="external">bottle-mysql 0.1.4</a><br><a href="http://www.devstore.cn/essay/essayInfo/5446.html" target="_blank" rel="external">Python Web框架</a><br><a href="http://www.jianshu.com/p/f796428ceaae" target="_blank" rel="external">Bottle手册(0.13-dev)中文翻译</a><br><a href="http://cizixs.com/2016/01/20/dive-into-bottle" target="_blank" rel="external">bottle 源码解析</a><br><a href="http://rwpy4l.readthedocs.org/en/latest/ch05/TryBottle.html" target="_blank" rel="external">初窥Bottle</a><br><a href="http://www.lovedata.cn/ec/Python/2015/1204/7161.html" target="_blank" rel="external">Python程序员都会喜欢的6个库</a><br><a href="http://www.lovedata.cn/ec/Python/2015/1204/7161.html" target="_blank" rel="external">bottle中文</a><br><a href="http://chenpeng.info/html/2155" target="_blank" rel="external">微型Python Web框架 Bottl</a><br><a href="http://blog.csdn.net/happyteafriends/article/details/42552093" target="_blank" rel="external">bottle中文教程</a><br><a href="http://www.zgxue.com/169/1698482.html" target="_blank" rel="external">Python的Bottle框架的一些使用技巧介绍</a><br><a href="http://www.bubuko.com/infodetail-1114779.html" target="_blank" rel="external">Bottle框架常见的几个坑</a><br><a href="http://wenku.baidu.com/link?url=AXvHmcyWezZ7MK0RTN89X4QGP91IN-Nyl1cD1V94QeCdFu5k9AqzwjPzi_4CDSCY3arrp-RtYtSyH6FBOXYuvuPIrh6QQNan4F8-N2jCoAa" target="_blank" rel="external">Bottle API 参考 中文</a><br><a href="http://www.avelino.xxx/2015/02/where-to-start-a-project-with-bottle-boilerplate#toc_0" target="_blank" rel="external">Where to start a project with bottle, Boilerplate</a><br><a href="http://blog.sina.com.cn/s/blog_8d0ab46b0102whrd.html" target="_blank" rel="external">Python3 bottle Web开发系列教程</a><br><a href="https://www.toptal.com/bottle/building-a-rest-api-with-bottle-framework" target="_blank" rel="external">Building a Rest API with the Bottle Framework</a><br><a href="https://realpython.com/blog/python/developing-with-bottle-part-1/" target="_blank" rel="external">Developing With Bottle</a><br><a href="http://article.yeeyan.org/view/35282/126927" target="_blank" rel="external">Bottle API 参考</a></p>
  
	</div>
		<footer class="article-footer clearfix">




<div class="article-share" id="share">

  <div data-url="http://yoursite.com/2016/03/27/bottle/" data-title="Bottle 总结 | RoseOu&#39;s blog" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/05/08/setup/" title="Flask学习教程 Part1 1:Flask简介及安装">
  <strong>PREVIOUS:</strong><br/>
  <span>
  Flask学习教程 Part1 1:Flask简介及安装</span>
</a>
</div>


<div class="next">
<a href="/2016/03/16/python-函数的参数/"  title="python 函数的参数">
 <strong>NEXT:</strong><br/> 
 <span>python 函数的参数
</span>
</a>
</div>

</nav>

	
</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于安装"><span class="toc-number">2.</span> <span class="toc-text">关于安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目构建"><span class="toc-number">3.</span> <span class="toc-text">项目构建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#视图函数和路由"><span class="toc-number">4.</span> <span class="toc-text">视图函数和路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#动态路由："><span class="toc-number">4.1.</span> <span class="toc-text">动态路由：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端模板"><span class="toc-number">5.</span> <span class="toc-text">前端模板</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SimpleTemplate的语法"><span class="toc-number">5.0.1.</span> <span class="toc-text">SimpleTemplate的语法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库"><span class="toc-number">6.</span> <span class="toc-text">数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#API编写与参考"><span class="toc-number">7.</span> <span class="toc-text">API编写与参考</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目部署"><span class="toc-number">8.</span> <span class="toc-text">项目部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他特性（待加入）"><span class="toc-number">9.</span> <span class="toc-text">其他特性（待加入）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Session"><span class="toc-number">9.1.</span> <span class="toc-text">Session</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一些推荐的可用的插件"><span class="toc-number">9.2.</span> <span class="toc-text">一些推荐的可用的插件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bottle学习资源"><span class="toc-number">10.</span> <span class="toc-text">Bottle学习资源</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  

  

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2019 
		
		<a href="http://yoursite.com" target="_blank" title="Rose Ou">Rose Ou</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>






  </body>
</html>
